# Serena MCP æ¿€æ´»å’Œå®æ–½æŒ‡å—

## ğŸ“‹ ç›®å½•

1. [ä»€ä¹ˆæ˜¯ Serena MCP](#ä»€ä¹ˆæ˜¯-serena-mcp)
2. [ä¸ºä»€ä¹ˆéœ€è¦ Serena](#ä¸ºä»€ä¹ˆéœ€è¦-serena)
3. [ç¯å¢ƒå‡†å¤‡](#ç¯å¢ƒå‡†å¤‡)
4. [å®‰è£…æ­¥éª¤](#å®‰è£…æ­¥éª¤)
5. [é¡¹ç›®æ¿€æ´»](#é¡¹ç›®æ¿€æ´»)
6. [é…ç½®å®¢æˆ·ç«¯](#é…ç½®å®¢æˆ·ç«¯)
7. [éªŒè¯å®‰è£…](#éªŒè¯å®‰è£…)
8. [ä½¿ç”¨ç¤ºä¾‹](#ä½¿ç”¨ç¤ºä¾‹)
9. [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)

---

## ä»€ä¹ˆæ˜¯ Serena MCP

**Serena** æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç¼–ç ä»£ç†å·¥å…·åŒ…ï¼Œé€šè¿‡ **Model Context Protocol (MCP)** æä¾›è¯­ä¹‰ä»£ç æ£€ç´¢å’Œç¼–è¾‘èƒ½åŠ›ã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ” **è¯­ä¹‰ä»£ç æ£€ç´¢** - åŸºäºç¬¦å·çº§åˆ«çš„ä»£ç ç†è§£ï¼Œè€Œéç®€å•çš„æ–‡æœ¬æœç´¢
- âœï¸ **æ™ºèƒ½ä»£ç ç¼–è¾‘** - æä¾›ç±»ä¼¼ IDE çš„ä»£ç ç¼–è¾‘èƒ½åŠ›
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ** - æ”¯æŒ 30+ ç§ç¼–ç¨‹è¯­è¨€ï¼ˆPythonã€PHPã€JavaScriptã€TypeScript ç­‰ï¼‰
- ğŸ†“ **å®Œå…¨å…è´¹** - å¼€æºé¡¹ç›®ï¼Œæ— éœ€ä»˜è´¹
- ğŸ”Œ **å¹¿æ³›é›†æˆ** - æ”¯æŒ Claude Codeã€Claude Desktopã€Cursorã€VSCode ç­‰

### ä¸ä¼ ç»Ÿæ–¹æ³•çš„åŒºåˆ«

| ä¼ ç»Ÿæ–¹æ³• | Serena MCP |
|---------|-----------|
| è¯»å–æ•´ä¸ªæ–‡ä»¶ | åªè¯»å–ç›¸å…³ç¬¦å· |
| grep æ–‡æœ¬æœç´¢ | è¯­ä¹‰ç¬¦å·æœç´¢ |
| å­—ç¬¦ä¸²æ›¿æ¢ | ç¬¦å·çº§åˆ«ç¼–è¾‘ |
| é«˜ Token æ¶ˆè€— | ä½ Token æ¶ˆè€— |

---

## ä¸ºä»€ä¹ˆéœ€è¦ Serena

### å¯¹ AlkaidSYS é¡¹ç›®çš„ä»·å€¼

1. **æé«˜æ•ˆç‡** - åœ¨å¤§å‹ä»£ç åº“ä¸­å¿«é€Ÿå®šä½å’Œä¿®æ”¹ä»£ç 
2. **é™ä½æˆæœ¬** - å‡å°‘ Token æ¶ˆè€—ï¼ŒèŠ‚çœ API è´¹ç”¨
3. **æå‡è´¨é‡** - åŸºäºè¯­ä¹‰ç†è§£ï¼Œç”Ÿæˆæ›´å‡†ç¡®çš„ä»£ç 
4. **å¢å¼ºèƒ½åŠ›** - ä¸º AI æä¾›ç±»ä¼¼ IDE çš„å·¥å…·

### é€‚ç”¨åœºæ™¯

âœ… **é€‚åˆä½¿ç”¨ Serena çš„åœºæ™¯**ï¼š
- å¤§å‹ä»£ç åº“ï¼ˆå¦‚ AlkaidSYSï¼‰
- å¤æ‚çš„æ¶æ„ï¼ˆDDDã€å¤šå±‚æ¶æ„ï¼‰
- éœ€è¦ç²¾ç¡®å®šä½å’Œä¿®æ”¹ä»£ç 
- éœ€è¦ç†è§£ä»£ç å…³ç³»å’Œä¾èµ–

âŒ **ä¸å¤ªéœ€è¦ Serena çš„åœºæ™¯**ï¼š
- ä»é›¶å¼€å§‹å†™ä»£ç 
- åªæ¶‰åŠå°‘é‡æ–‡ä»¶
- ç®€å•çš„è„šæœ¬é¡¹ç›®

---

## ç¯å¢ƒå‡†å¤‡

### 1. ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: macOSã€Linux æˆ– Windows (WSL2)
- **Python**: ä¸éœ€è¦ï¼ˆSerena ä½¿ç”¨ uv ç®¡ç†ï¼‰
- **uv**: å¿…é¡»å®‰è£…

### 2. å®‰è£… uv

```bash
# macOS/Linux
curl -LsSf https://astral.sh/uv/install.sh | sh

# æˆ–ä½¿ç”¨ Homebrew (macOS)
brew install uv

# éªŒè¯å®‰è£…
uv --version
```

### 3. æ£€æŸ¥ç¯å¢ƒ

```bash
# æ£€æŸ¥ uv æ˜¯å¦å®‰è£…
which uv

# æ£€æŸ¥ Git
git --version

# æ£€æŸ¥é¡¹ç›®ç›®å½•
pwd
# åº”è¯¥åœ¨ /Users/Benson/Code/AlkaidSYS-tp
```

---

## å®‰è£…æ­¥éª¤

### æ–¹å¼ 1: å¿«é€Ÿæµ‹è¯•ï¼ˆæ¨èé¦–æ¬¡ä½¿ç”¨ï¼‰

```bash
# ç›´æ¥è¿è¡Œ Serena MCP Serverï¼ˆæ— éœ€å®‰è£…ï¼‰
uvx --from git+https://github.com/oraios/serena serena start-mcp-server --help
```

è¿™ä¼šæ˜¾ç¤ºæ‰€æœ‰å¯ç”¨é€‰é¡¹ï¼š
```
Options:
  --context [ide|cli]  è¿è¡Œä¸Šä¸‹æ–‡ï¼ˆIDE æˆ– CLIï¼‰
  --project-path PATH  é¡¹ç›®è·¯å¾„
  --help              æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

### æ–¹å¼ 2: æœ¬åœ°å®‰è£…ï¼ˆæ¨èé•¿æœŸä½¿ç”¨ï¼‰

```bash
# å…‹éš† Serena ä»“åº“
cd ~/Code
git clone https://github.com/oraios/serena.git
cd serena

# ä½¿ç”¨ uv å®‰è£…
uv sync

# éªŒè¯å®‰è£…
uv run serena --version
```

---

## é¡¹ç›®æ¿€æ´»

### âš ï¸ é‡è¦ï¼šå¿…é¡»å…ˆæ¿€æ´»é¡¹ç›®

æ ¹æ® Serena æ–‡æ¡£ï¼Œ**åœ¨é¦–æ¬¡ä½¿ç”¨å‰å¿…é¡»æ¿€æ´»é¡¹ç›®**ã€‚è¿™æ˜¯ä¸€ä¸ªå…³é”®æ­¥éª¤ï¼

### æ¿€æ´»æ­¥éª¤

#### æ–¹å¼ 1: ä½¿ç”¨ Claude Code æ¿€æ´»ï¼ˆæ¨èï¼‰

1. **å¯åŠ¨ Serena MCP Server**

```bash
cd /Users/Benson/Code/AlkaidSYS-tp

# å¯åŠ¨ MCP Server
uvx --from git+https://github.com/oraios/serena serena start-mcp-server \
  --context ide \
  --project-path /Users/Benson/Code/AlkaidSYS-tp
```

2. **åœ¨ Claude Code ä¸­æ¿€æ´»**

æ‰“å¼€ Claude Codeï¼Œåœ¨èŠå¤©ä¸­è¾“å…¥ï¼š

```
è¯·è¿è¡Œ Serena Onboarding æ¥æ¿€æ´»è¿™ä¸ªé¡¹ç›®
```

æˆ–è€…ï¼š

```
serena onboard
```

3. **Serena ä¼šè‡ªåŠ¨**ï¼š
   - åˆ†æé¡¹ç›®ç»“æ„
   - æ£€æµ‹ç¼–ç¨‹è¯­è¨€
   - åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆ`.serena/config.yaml`ï¼‰
   - åˆå§‹åŒ–è¯­è¨€æœåŠ¡å™¨

#### æ–¹å¼ 2: æ‰‹åŠ¨æ¿€æ´»

```bash
cd /Users/Benson/Code/AlkaidSYS-tp

# åˆ›å»º Serena é…ç½®ç›®å½•
mkdir -p .serena

# åˆ›å»ºé…ç½®æ–‡ä»¶
cat > .serena/config.yaml << 'EOF'
# Serena é¡¹ç›®é…ç½®
project:
  name: AlkaidSYS-tp
  root: /Users/Benson/Code/AlkaidSYS-tp
  
languages:
  - php
  - javascript
  - typescript
  - yaml
  - markdown

# å¿½ç•¥çš„ç›®å½•
ignore:
  - node_modules
  - vendor
  - runtime
  - .git
EOF
```

---

## é…ç½®å®¢æˆ·ç«¯

### é…ç½® Claude Code

åˆ›å»ºæˆ–ç¼–è¾‘ Claude Code çš„ MCP é…ç½®æ–‡ä»¶ï¼š

```bash
# macOS é…ç½®æ–‡ä»¶ä½ç½®
mkdir -p ~/Library/Application\ Support/Claude/
nano ~/Library/Application\ Support/Claude/claude_desktop_config.json
```

æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```json
{
  "mcpServers": {
    "serena": {
      "command": "uvx",
      "args": [
        "--from",
        "git+https://github.com/oraios/serena",
        "serena",
        "start-mcp-server",
        "--context",
        "ide",
        "--project-path",
        "/Users/Benson/Code/AlkaidSYS-tp"
      ]
    }
  }
}
```

### é…ç½® Auggie (å¦‚æœä½¿ç”¨)

åˆ›å»º Auggie çš„ MCP é…ç½®ï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º MCP é…ç½®
cat > .augment/mcp-config.json << 'EOF'
{
  "mcpServers": {
    "serena": {
      "command": "uvx",
      "args": [
        "--from",
        "git+https://github.com/oraios/serena",
        "serena",
        "start-mcp-server",
        "--context",
        "cli",
        "--project-path",
        "/Users/Benson/Code/AlkaidSYS-tp"
      ]
    }
  }
}
EOF
```

---

## éªŒè¯å®‰è£…

### 1. æµ‹è¯• MCP Server

```bash
# å¯åŠ¨ Serena MCP Server
uvx --from git+https://github.com/oraios/serena serena start-mcp-server \
  --context cli \
  --project-path /Users/Benson/Code/AlkaidSYS-tp
```

åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
```
Starting Serena MCP Server...
Project: AlkaidSYS-tp
Path: /Users/Benson/Code/AlkaidSYS-tp
Languages detected: PHP, JavaScript, TypeScript
Server ready on stdio
```

### 2. æ£€æŸ¥é…ç½®æ–‡ä»¶

```bash
# æ£€æŸ¥ Serena é…ç½®æ˜¯å¦åˆ›å»º
ls -la .serena/
cat .serena/config.yaml
```

### 3. åœ¨ Claude Code ä¸­æµ‹è¯•

é‡å¯ Claude Codeï¼Œç„¶ååœ¨èŠå¤©ä¸­è¾“å…¥ï¼š

```
ä½¿ç”¨ Serena æŸ¥æ‰¾ CollectionController ç±»
```

å¦‚æœ Serena æ­£å¸¸å·¥ä½œï¼Œå®ƒä¼šå¿«é€Ÿå®šä½åˆ°æ–‡ä»¶å’Œç¬¦å·ã€‚

---

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: æŸ¥æ‰¾ç¬¦å·

```
ä½¿ç”¨ Serena æŸ¥æ‰¾ Collection ç±»çš„å®šä¹‰
```

Serena ä¼šä½¿ç”¨ `find_symbol` å·¥å…·å¿«é€Ÿå®šä½ã€‚

### ç¤ºä¾‹ 2: æŸ¥æ‰¾å¼•ç”¨

```
ä½¿ç”¨ Serena æŸ¥æ‰¾æ‰€æœ‰ä½¿ç”¨ CollectionManager çš„åœ°æ–¹
```

Serena ä¼šä½¿ç”¨ `find_referencing_symbols` å·¥å…·ã€‚

### ç¤ºä¾‹ 3: æ™ºèƒ½ç¼–è¾‘

```
ä½¿ç”¨ Serena åœ¨ CollectionController çš„ index æ–¹æ³•åæ·»åŠ ä¸€ä¸ªæ–°æ–¹æ³• export
```

Serena ä¼šä½¿ç”¨ `insert_after_symbol` å·¥å…·ç²¾ç¡®æ’å…¥ä»£ç ã€‚

---

## æ•…éšœæ’é™¤

### é—®é¢˜ 1: uv å‘½ä»¤æœªæ‰¾åˆ°

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# é‡æ–°å®‰è£… uv
curl -LsSf https://astral.sh/uv/install.sh | sh

# æ·»åŠ åˆ° PATH
echo 'export PATH="$HOME/.cargo/bin:$PATH"' >> ~/.zshrc
source ~/.zshrc
```

### é—®é¢˜ 2: é¡¹ç›®æœªæ¿€æ´»

**é”™è¯¯ä¿¡æ¯**: "Project not activated"

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# åœ¨ Claude Code ä¸­è¿è¡Œ
serena onboard

# æˆ–æ‰‹åŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶ï¼ˆè§ä¸Šæ–‡ï¼‰
```

### é—®é¢˜ 3: è¯­è¨€æœåŠ¡å™¨å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥ PHP è¯­è¨€æœåŠ¡å™¨
composer global require felixfbecker/language-server

# æ£€æŸ¥ TypeScript è¯­è¨€æœåŠ¡å™¨
npm install -g typescript-language-server typescript
```

### é—®é¢˜ 4: MCP Server æ— æ³•è¿æ¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥é…ç½®æ–‡ä»¶è·¯å¾„
cat ~/Library/Application\ Support/Claude/claude_desktop_config.json

# ç¡®ä¿è·¯å¾„æ­£ç¡®
# é‡å¯ Claude Code
```

---

## ä¸‹ä¸€æ­¥

1. âœ… å®Œæˆ Serena æ¿€æ´»
2. âœ… åœ¨ Claude Code ä¸­æµ‹è¯•åŸºæœ¬åŠŸèƒ½
3. âœ… å°è¯•ä½¿ç”¨ Serena è¿›è¡Œä»£ç å¯¼èˆª
4. âœ… ä½¿ç”¨ Serena è¾…åŠ©å¼€å‘ AlkaidSYS åŠŸèƒ½

---

**å‚è€ƒèµ„æº**ï¼š
- [Serena GitHub](https://github.com/oraios/serena)
- [Serena æ–‡æ¡£](https://oraios.github.io/serena)
- [MCP åè®®](https://modelcontextprotocol.io)

