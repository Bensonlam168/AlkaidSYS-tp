# AlkaidSYS Augment 配置文件
# 定义项目的 AI 辅助开发配置

project:
  name: AlkaidSYS-tp
  version: 1.0.0
  description: 强大、现代、低代码的企业级 SAAS 系统框架
  
  # 项目类型
  type: web-application
  
  # 主要技术栈
  tech_stack:
    backend:
      - PHP 8.2+
      - ThinkPHP 8.0
      - Swoole 5.0+
      - MySQL 8.0
      - Redis 6.0
    frontend:
      - Vue 3
      - TypeScript 5.x
      - Vben Admin 5.x
      - Ant Design Vue 4.x

# 代码规范
coding_standards:
  php:
    standard: PSR-12
    doc_style: PHPDoc
    comment_language: bilingual  # 中英文双语
  
  typescript:
    standard: ESLint
    style_guide: Airbnb
  
  commit_message:
    format: conventional-commits
    scopes:
      - feat
      - fix
      - docs
      - style
      - refactor
      - test
      - chore

# 架构规范
architecture:
  pattern: DDD  # 领域驱动设计
  layers:
    - domain      # 领域层
    - infrastructure  # 基础设施层
    - app         # 应用层
  
  # 命名空间映射
  namespaces:
    domain: Domain\
    infrastructure: Infrastructure\
    app: app\

# Subagents 配置
subagents:
  enabled: true
  directory: .augment/subagents
  available:
    - lowcode-developer         # 低代码开发专家
    - api-developer             # API 开发专家
    - auth-security-engineer    # 认证安全工程师
    - frontend-integrator       # 前端集成专家
    - test-migration-engineer   # 测试迁移工程师
    - code-reviewer             # 代码审查专家
    - documentation-reviewer    # 文档审查专家
    - architecture-reviewer     # 架构审查专家

# Skills 配置
skills:
  enabled: true
  directory: .augment/skills
  available:
    - create-collection                        # 创建 Collection
    - create-field                             # 创建字段
    - create-api-endpoint                      # 创建 API 端点
    - create-form-schema                       # 创建表单 Schema
    - run-migration                            # 运行迁移
    - run-tests                                # 运行测试
    - review-code                              # 代码审查
    - auth-permission-best-practices           # 认证权限最佳实践
    - rate-limit-and-gateway-best-practices    # 限流网关最佳实践
    - workflow-and-plugin-architecture         # 工作流插件架构

# Commands 配置
commands:
  enabled: true
  directory: .augment/commands
  available:
    - lowcode-init                          # 初始化低代码环境
    - generate-crud                         # 生成 CRUD 代码
    - setup-project                         # 项目初始化
    - deploy                                # 部署
    - tests-and-migrations-hardening        # 测试迁移加固
    - auth-permission-integration           # 权限集成
    - casbin-phase2-rollout                 # Casbin Phase2 部署
    - api-error-trace-pagination-unify      # API 错误追踪分页统一

# 上下文文件（自动加载）
context_files:
  # 核心设计文档
  design:
    - design/README.md
    - design/00-core-planning/01-alkaid-system-overview.md
    - design/01-architecture-design/02-architecture-design.md
    - design/09-lowcode-framework/40-lowcode-framework-architecture.md
  
  # 技术规范
  specs:
    - docs/technical-specs/code-style/php-coding-standards.md
    - docs/technical-specs/api/restful-api-guidelines.md
    - docs/technical-specs/database/database-guidelines.md
  
  # 核心代码
  core:
    - app/BaseController.php
    - app/controller/ApiController.php
    - domain/Lowcode/Collection/Interfaces/CollectionInterface.php

# 测试配置
testing:
  framework: PHPUnit
  coverage_threshold: 80
  test_directories:
    - tests/Unit
    - tests/Feature
  
  # 测试命令
  commands:
    unit: php think test tests/Unit
    feature: php think test tests/Feature
    all: php think test

# 文档生成
documentation:
  api:
    format: OpenAPI 3.0
    output: public/api-docs.json
  
  code:
    tool: PHPDoc
    output: docs/api

# 开发工作流
workflows:
  # 新功能开发流程
  feature_development:
    - 创建功能分支
    - 编写代码
    - 编写测试
    - 运行测试
    - 提交代码
    - 创建 PR
  
  # 低代码开发流程
  lowcode_development:
    - 设计 Collection
    - 创建 Collection（使用 create-collection skill）
    - 生成 CRUD（使用 generate-crud command）
    - 编写业务逻辑
    - 测试验证
    - 部署上线

# AI 辅助提示
ai_assistance:
  # 默认行为
  default_behavior:
    - 使用中英文双语注释
    - 遵循 DDD 架构
    - 编写测试用例
    - 生成 API 文档
  
  # 代码审查重点
  code_review_focus:
    - 架构合理性
    - 代码规范
    - 安全性
    - 性能优化
    - 测试覆盖率
  
  # 常见任务模板
  task_templates:
    create_api: "创建 {resource} 的 RESTful API，包含 CRUD 操作"
    create_collection: "创建 {name} Collection，包含字段 {fields}"
    fix_bug: "修复 {description} 的问题"
    optimize: "优化 {component} 的性能"

